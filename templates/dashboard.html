<!DOCTYPE html>
<html>
<head>
    <title>Dataset Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<script src="{{ url_for('static', filename='theme.js') }}"></script>

</head>

<body>
<div class="text-end p-3">
    <button onclick="toggleTheme()" class="btn btn-outline-secondary">
        ðŸŒ™ Toggle Dark Mode
    </button>
</div>


<div class="container mt-5">
    <h2 class="text-center text-primary mb-4">
        Dataset-Level Neutrosophic Analysis
    </h2>

    <!-- Statistics -->
    <div class="row text-center">
        <div class="col-md-4">
            <div class="card shadow p-3">
                <h5>Total Images</h5>
                <h3>{{ total }}</h3>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow p-3">
                <h5>Defect Images</h5>
                <h3 class="text-danger">{{ defect }}</h3>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card shadow p-3">
                <h5>Normal Images</h5>
                <h3 class="text-success">{{ normal }}</h3>
            </div>
        </div>
    </div>

    <!-- Charts -->
    <div class="row mt-4">
        <div class="col-md-6">
            <div class="card shadow p-3">
                <h5 class="text-center">Defect vs Normal Distribution</h5>
                <canvas id="countChart"></canvas>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow p-3">
                <h5 class="text-center">Average Neutrosophic Values</h5>
                <canvas id="avgChart"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
/* Defect vs Normal */
new Chart(document.getElementById('countChart'), {
    type: 'bar',
    data: {
        labels: ['Defect', 'Normal'],
        datasets: [{
            label: 'Image Count',
            data: [{{ defect }}, {{ normal }}]
        }]
    },
    options: {
        scales: {
            y: { beginAtZero: true }
        }
    }
});

/* Average T-I-F */
new Chart(document.getElementById('avgChart'), {
    type: 'bar',
    data: {
        labels: ['Truth', 'Indeterminacy', 'Falsity'],
        datasets: [{
            label: 'Average (%)',
            data: [{{ avg_T }}, {{ avg_I }}, {{ avg_F }}]
        }]
    },
    options: {
        scales: {
            y: { beginAtZero: true, max: 100 }
        }
    }
});
</script>

</body>
</html>
